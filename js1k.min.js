d=document;Z=3;W=a.width/Z;H=a.height/Z;k=0;z=2;g="#2ABB9B";w="#F5C959";r="#E74C3C";N=Date.now;pN=N();s=0;v=5;x=15,y=H/2;c.scale(Z,Z);c.t=c.fillText;e=new Array();
b=new Array();dr=function(f,n,j,m,i){c.fillStyle=i;c.fillRect(f,n,j,m);};co=function(n,l,j){for(var h=0;h<l.length;h++){var f=l[h];if((n.x+n.w>=f.x)&&(n.x<=f.x+f.w)&&(n.y+n.w>=f.y)&&(n.y<=f.y+f.w)){l.splice(h,1);
s+=j;return true;}}return false;};nr=function(f,j,i,h){return new Object({x:f||W+Math.random()*150,y:j||Math.random()*H,i:0,w:i||10,l:0||h});};while(k<9){e.push(nr());
k++;}function gl(){requestAnimationFrame(gl);if(v<=0){dr(0,0,W,H,"#000");dr(0,0,0,0,"#fff");c.t("lost, reload",10,10);return;}dr(0,0,W,H,"#666");D=(N()-pN)/100;
pN=N();dr(10,10,5,5,g);c.t(v,20,15);dr(10,20,5,5,r);c.t(s,20,25);if(k!=0){if(k==40){y+=z;}if(k==38){y-=z;}if(k==32){b.push(nr(x,y,5));k=0;}}if(y<0){y=0;
}if(y+10>H){y=H-10;}if(co(({x:x,y:y,w:10}),e,0)){v--;}dr(x,y,10,10,g);for(var h=0;h<e.length;h++){var f=e[h];f.y-=z*Math.cos(f.i*D);f.x-=z;f.i++;if(f.x<0||co(f,b,1)){e[h]=nr();
}dr(f.x,f.y,10,10,r);}for(var h=0;h<b.length;h++){var f=b[h];f.x+=z;if(f.x>W){b.splice(h,1);}dr(f.x,f.y,5,5,w);}}gl();d.onkeydown=function(f){k=f.keyCode;
};d.onkeyup=function(f){k=0;};