function fs(a){c.fillStyle=a}function dd(a,b,d,e){fs(b),c.fillRect(a.x,a.y,d||a.w,e||a.w)}function co(a,b,c){for(var d=0;d<b.length;d++){var e=b[d];if(a.x+a.w>=e.x&&a.x<=e.x+e.w&&a.y+a.w>=e.y&&a.y<=e.y+e.w)return b.splice(d,1),s+=c,!0}return!1}function nr(a,b,c,d){return ({x:a||W+150*R(),y:b||R()*H,i:0,w:c||T,l:d})}function gl(){if(requestAnimationFrame(gl),dd({x:0,y:0},"#666",W,H),1>v)fs(r),c.t("lost, reload",T,T);else{D=(N()-pN)/100,pN=N(),fs(g),c.t(v,20,15),fs(r),c.t(s,20,25),0!=k&&(40==k&&(y+=z),38==k&&(y-=z),32==k&&(b.push(nr(x,y,5)),k=0)),0>y&&(y=0),y+T>H&&(y=H-T);var a={x:x,y:y,w:T};for(co(a,e,0)&&v--,dd(a,g),a=0;a<e.length;a++){var d=e[a];d.y-=z*Math.cos(d.i*D),d.x-=z,d.i++,(0>d.x||co(d,b,1))&&(e[a]=nr()),dd(d,r)}for(a=0;a<b.length;a++)d=b[a],d.x+=z,d.x>W&&b.splice(a,1),dd(d,"#FD6")}}for(d=document,z=3,W=a.width/z,H=a.height/z,c.scale(z,z),k=0,g="#3BA",r="#E54",N=Date.now,pN=N(),R=Math.random,s=0,v=5,x=T=10,y=H/2,c.t=c.fillText,e=[],b=[];T>k;)e.push(nr()),k++;gl(),d.onkeydown=function(a){k=a.keyCode},d.onkeyup=function(){k=0};