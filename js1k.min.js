d=document;zm=3;W=a.width/zm;H=a.height/zm;k=0;z=2;g="#2ABB9B";w="#F5C959";r="#E74C3C";N=Date.now;pN=N();x=10,y=10;c.scale(zm,zm);e=new Array();b=new Array();
dr=function(f,o,j,n,i,m){c.fillStyle=i;c.fillRect(f,o,j,n);};co=function(l,j){for(var h=0;h<j.length;h++){var f=j[h];if((l.x+l.w>=f.x)&&(l.x<=f.x+f.w)&&(l.y+l.w>=f.y)&&(l.y<=f.y+f.w)){j.splice(h,1);
return true;}}return false;};nr=function(f,j,i,h){return new Object({x:f||W+Math.random()*90,y:j||Math.random()*H,i:0,w:i||10,l:0||h});};while(k<5){e.push(nr());
k++;}function gl(){requestAnimationFrame(gl);dr(0,0,W,H,"#5E5E5E");D=(N()-pN)/100;pN=N();if(k!=0){if(k==40){y+=z;}if(k==38){y-=z;}if(k==32){b.push(nr(x,y,5));
k=0;}}if(y<0){y=0;}if(y>H){y=H-10;}dr(x,y,10,10,g);for(var h=0;h<e.length;h++){var f=e[h];f.y-=z*Math.cos(f.i*D);f.x-=z;f.i++;if(f.x<0||co(f,b)){e[h]=nr();
}dr(f.x,f.y,10,10,r);}for(var h=0;h<b.length;h++){var f=b[h];f.x+=z;if(f.x>W){b.splice(h,1);}dr(f.x,f.y,5,5,w);}}gl();d.onkeydown=function(f){k=f.keyCode;
};d.onkeyup=function(f){k=0;};