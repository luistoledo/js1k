for(M=Math,R=M.random,c.scale(2,2),W=c.canvas.width/2,H=c.canvas.height/2,f=0,o=1,E=[],D=[],K=[],i=0;i<W/4;i++)E[i]=R()*W/8,D[i]=R()*W/8,.1<R()&&(E[i]=0),.1<R()&&(D[i]=0),K[i]="";var t=(a,b)=>{for(;0<a--;)b()};G=function(){for(o+=.001,j="#112",c.fillStyle=j,c.fillRect(0,0,W,H),f=0,c.fillStyle="#fff",c.font="5px Monaco",c.lineWidth=1,c.strokeStyle="#bbb",i=0;i<W/5;i++)c.save(),c.translate(5*i,H/4),c.rotate(-M.PI/2),c.fillText(K[i],0,0),c.textAlign="end",c.fillText(K[i],-H/1.8,0),c.restore(),.95<M.tan(10*o)?.995<R()&&(E[i]=R()*W/8,D[i]=R()*W/8,K[i]="",t(1+8*R(),()=>K[i]+=""+String.fromCharCode(12450+parseInt(90*R()))),.5<R()&&(E[i]=0,c.strokeStyle="#00f",f=100+100*R()),.3<R()&&(D[i]=0,c.fillStyle="#f00",f=10*R())):f=5*M.min(M.cos(10*o),R())*R(),v.frequency.setValueAtTime(100*f,S.currentTime),0<E[i]&&(c.beginPath(),c.moveTo(5*i,H/4),c.lineTo(2+8*E[i],H/2),c.stroke(),c.closePath()),0<D[i]&&(c.beginPath(),c.moveTo(5*i,H/4+H/1.8),c.lineTo(2+8*D[i],H/2+18),c.stroke(),c.closePath()),c.fillRect(8*E[i],H/2,3*(3+M.sin(o*i/13)),8),c.fillRect(8*D[i],H/2+10,3*(3+M.cos(o*i/13)),8);requestAnimationFrame(G)},S=new AudioContext,v=S.createOscillator(),v.connect(S.destination),v.start(0),G();